<!DOCTYPE html>
<html>
<head>
    <title>To-Do List App</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <h2>My To-Do List</h2>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        {% for message in messages %}
          <div class="flash">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <!-- Add Task Form -->
    <form method="POST" action="{{ url_for('add') }}">
        <input type="text" name="task" placeholder="Enter new task">
        <button type="submit">Add Task</button>
    </form>

    <!-- Exit / Clear All Tasks -->
    <a href="{{ url_for('exit_app') }}" class="button exit">Exit / Clear All Tasks</a>

    <!-- Task Table -->
    <table>
        <tr>
            <th>ID</th>
            <th>Task</th>
            <th>Status</th>
            <th>Actions</th>
        </tr>

        {% if todos %}
            {% for todo in todos %}
            <tr>
                <td>{{ todo.id }}</td>
                <td>{{ todo.task }}</td>
                <td>{{ todo.status }}</td>
                <td>
                    {% if todo.status != "Done" %}
                        <a href="{{ url_for('update_task', task_id=todo.id) }}" class="button done">Done</a>
                    {% endif %}
                    <a href="{{ url_for('edit_task', task_id=todo.id) }}" class="button update">Update</a>
                    <a href="{{ url_for('delete_task', task_id=todo.id) }}" class="button delete">Delete</a>
                </td>
            </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td colspan="4">No tasks yet!</td>
            </tr>
        {% endif %}

    </table>

</body>
</html>

